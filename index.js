/**
 * Count the available paths to get to the final point (E). 
 * Start from position [0, 0] (S), you can move only one position 
 * at a time, only right or left.
 * 
 * return the possible paths (number).
 */

function isEnd(grid, row, col) {
     return row === grid.length - 1 && col === grid[0].length - 1;
}

function isValidBox(grid, row, col) {
    return row <= grid.length - 1 && col <= grid[0].length - 1 && grid[row][col] !== 0;
}

function countPaths(grid, row, col, store = {}) {

    const  key = row.toString() + col.toString();

    

    if (!isValidBox(grid, row, col)) {
        return 0;
    }

    if (isEnd(grid, row, col)) {
        return 1;
    }

    if (!store[key]) {

        store[key] = countPaths(grid, row + 1, col, store) + countPaths(grid, row, col + 1, store);
        
    }

    return store[key];
}


var mtrx1 = [
//  START ⬇️ 
// |--------|----------|-----------|------------|
    [ 'S',/*|*/   0, /*|*/ '-',  /*|*/    0],
// |________|__________|___________|____________|
    [ '-',/*|*/   0, /*|*/ '-',  /*|*/    '-'],
// |________|__________|___________|____________|
    [ '-',/*|*/ '-', /*|*/ '-',  /*|*/    '-'],
// |________|__________|___________|____________|
	[ 0,  /*|*/   0, /*|*/ '-',  /*|*/  'E'],
// |________|__________|___________|____________| 🔚END
];

var mtrx2 = [
//  START ⬇️ 
// |--------|----------|-----------|----------|----------|-----------|----------|
    [ 'S',/*|*/   0, /*|*/ '-',  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/  '-'],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/   0,  /*|*/ '-', /*|*/ '-', /*|*/ '-',  /*|*/  '-'],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/'-',  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/   0, /*|*/ '-',  /*|*/ '-', /*|*/   0, /*|*/   0,  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/ '-',  /*|*/   0, /*|*/ '-', /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/ '-',  /*|*/ '-', /*|*/ '-', /*|*/   0,  /*|*/ '-'],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/   0,  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    [  0, /*|*/   0, /*|*/   0,  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/ '-'],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/ '-',  /*|*/ '-', /*|*/   0, /*|*/   0,  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/   0,  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/   0, /*|*/   0,  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/  '-', /*|*/'-',  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/ '-',  /*|*/ '-', /*|*/ '-', /*|*/   0,  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    [  0, /*|*/ '-', /*|*/ '-',  /*|*/   0, /*|*/ '-', /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/ '-',  /*|*/ '-', /*|*/ '-', /*|*/ '-',  /*|*/ '-'],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/   0, /*|*/ '-',  /*|*/   0, /*|*/   0, /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/ '-',  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/   0, /*|*/   0,  /*|*/ '-', /*|*/ '-', /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/ '-',  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    [  0, /*|*/ '-', /*|*/   0,  /*|*/ '-', /*|*/ '-', /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/   0, /*|*/   0,  /*|*/   0, /*|*/   0, /*|*/ '-',  /*|*/   0],
// |________|__________|___________|__________|__________|___________|__________|
    ['-', /*|*/ '-', /*|*/ '-',  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/ '-'],
// |________|__________|___________|__________|__________|___________|__________|
    [  0, /*|*/   0, /*|*/ '-',  /*|*/ '-', /*|*/   0, /*|*/ '-',  /*|*/ 'E'],
// |________|__________|___________|__________|__________|___________|__________| 🔚END
];


console.log('Table 1:');
console.table(mtrx1);

var res = countPaths(mtrx1, 0, 0);


console.log('Res: ', res);

console.log();
console.log();
console.log('----------------');

console.log('Table 2:');
console.table(mtrx2);

res = countPaths(mtrx2, 0, 0);


console.log('Res: ', res);
